import java.awt.Color;

import IonEngine.*;
import java.awt.*;

class Main {
    public static void main(String[] args) {
        IonFrame frame = new IonFrame(1000, 300);
        IonPanel panel = frame.addPanel();

        IonPixelField pixelField = (IonPixelField)panel.addContainer(new IonPixelField(), "PixelField");

        frame.setVisible(true);

        pixelField.fillWithNoise();
        
        IonFeatures.setInterval(1, new FillWithNoiseCallback(pixelField));
    }
}

class FillWithNoiseCallback implements IonCallback {
    public IonPixelField pixelField;
    public FillWithNoiseCallback(IonPixelField pixelField) {
        this.pixelField = pixelField;
    } 
    public void call() {
        pixelField.offsetImageBy(-1, 0);
        pixelField.fillWithNoise(pixelField.getWidth() - 1, 0);
    }
}